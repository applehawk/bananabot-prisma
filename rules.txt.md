# –û—Ç—á–µ—Ç –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª –∏–∑ `seed-fsm-mega.ts` –≤ `seed-rules.ts`

## –í–≤–µ–¥–µ–Ω–∏–µ
–í —ç—Ç–æ–º –æ—Ç—á–µ—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –∞–Ω–∞–ª–∏–∑ –ø—Ä–∞–≤–∏–ª, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤ `bananabot-admin/prisma/seed-fsm-mega.ts` (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è FSM-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞), –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Ö –ø–µ—Ä–µ–Ω–æ—Å—É –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∞–≤–∏–ª `bananabot-admin/prisma/seed-rules.ts`.

`seed-fsm-mega.ts` —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–¥—Ö–æ–¥ "State-First" (–†–µ–∞–∫—Ü–∏—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è), —á—Ç–æ –¥–µ–ª–∞–µ—Ç –ª–æ–≥–∏–∫—É —á–∏—â–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–ª–æ–∂–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π.

## 1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (Must Have)
–≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞–ø—Ä—è–º—É—é –≤–ª–∏—è—é—Ç –Ω–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—é –∏ —É–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∏—Ö –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å.

### 1.1. Welcome Bonus (–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –±–æ–Ω—É—Å –ø—Ä–∏ –≤–æ–≤–ª–µ—á–µ–Ω–∏–∏)
*   **–ö–æ–¥ –≤ Mega:** `WELCOME_ON_ACTIVE`
*   **–õ–æ–≥–∏–∫–∞:** –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `ACTIVE_FREE` (–≤–æ–≤–ª–µ—á–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å), –µ–º—É –≤—ã–¥–∞–µ—Ç—Å—è 10 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ.
*   **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –ü–æ–æ—â—Ä—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –æ–Ω "—Ä–∞—Å–ø—Ä–æ–±–æ–≤–∞–ª" –ø—Ä–æ–¥—É–∫—Ç (–ø–æ—Å–ª–µ 2-—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–π). –≠—Ç–æ –∫–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç –¥–ª—è Retention. –í —Ç–µ–∫—É—â–µ–º `seed-rules.ts` —ç—Ç–æ–≥–æ –Ω–µ—Ç.
*   **–¢—Ä–∏–≥–≥–µ—Ä:** `STATE_CHANGED` (to: `ACTIVE_FREE`)

### 1.2. Paywall Tripwire (–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ç—Ä–∏–ø–≤–∞–π—Ä)
*   **–ö–æ–¥ –≤ Mega:** `PAYWALL_TRIPWIRE`
*   **–õ–æ–≥–∏–∫–∞:** –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `PAYWALL` (–∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –∫—Ä–µ–¥–∏—Ç—ã) –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –æ–≤–µ—Ä–ª–µ–π Tripwire.
*   **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –í —Ç–µ–∫—É—â–µ–º `seed-rules.ts` –ø—Ä–∞–≤–∏–ª–æ `TW-1` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–æ–∂–Ω—É—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —É—Å–ª–æ–≤–∏–π (GTE 3 gens, LT 5 credits, active status). –õ–æ–≥–∏–∫–∞ `seed-fsm-mega.ts` –Ω–∞–º–Ω–æ–≥–æ –Ω–∞–¥–µ–∂–Ω–µ–µ: "–ï—Å–ª–∏ FSM —Å–∫–∞–∑–∞–ª, —á—Ç–æ –º—ã –≤ –ø—ç–π–≤–æ–ª–ª–µ -> –ø–æ–∫–∞–∑–∞—Ç—å –æ–≤–µ—Ä–ª–µ–π". –≠—Ç–æ –∏—Å–∫–ª—é—á–∞–µ—Ç –±–∞–≥–∏, –∫–æ–≥–¥–∞ —É—Å–ª–æ–≤–∏—è —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è.
*   **–¢—Ä–∏–≥–≥–µ—Ä:** `STATE_CHANGED` (to: `PAYWALL`)

### 1.3. Micro-Achievement (10 –ì–µ–Ω–µ—Ä–∞—Ü–∏–π)
*   **–ö–æ–¥ –≤ Mega:** `ACHIEVEMENT_10_GENS`
*   **–õ–æ–≥–∏–∫–∞:** 50 –º–æ–Ω–µ—Ç –∑–∞ 10 –≥–µ–Ω–µ—Ä–∞—Ü–∏–π.
*   **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –í `seed-rules.ts` –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ `B-1` (50 –≥–µ–Ω–µ—Ä–∞—Ü–∏–π). 50 ‚Äî —ç—Ç–æ —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ —é–∑–µ—Ä–∞. –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –Ω–∞ 10 –≥–µ–Ω–µ—Ä–∞—Ü–∏—è—Ö ("–†–∞–Ω–Ω—è—è –ø–æ–±–µ–¥–∞") –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –¥–æ—Ñ–∞–º–∏–Ω–æ–≤–æ–π –ø–µ—Ç–ª–∏ –≤ –Ω–∞—á–∞–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
*   **–¢—Ä–∏–≥–≥–µ—Ä:** `GENERATION_COMPLETED` (totalGenerations = 10)

## 2. –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (Lifecycle Nudges)
–ü—Ä–∞–≤–∏–ª–∞, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ –æ–∂–∏–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –∏ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å.

### 2.1. Inactivity Nudge (–ü–∏–Ω–≥ "–ú—ã —Å–∫—É—á–∞–µ–º")
*   **–ö–æ–¥ –≤ Mega:** `INACTIVITY_NUDGE`
*   **–õ–æ–≥–∏–∫–∞:** –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ —Å—Ç–∞—Ç—É—Å `INACTIVE` (48 —á–∞—Å–æ–≤ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è).
*   **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º. –í –æ—Å–Ω–æ–≤–Ω–æ–º —Ñ–∞–π–ª–µ —Å–µ–π—á–∞—Å –Ω–µ—Ç –ª–æ–≥–∏–∫–∏ —Ä–∞–±–æ—Ç—ã —Å "–æ—Ç—Ç–æ–∫–æ–º" (churn prevention).
*   **–¢—Ä–∏–≥–≥–µ—Ä:** `STATE_CHANGED` (to: `INACTIVE`)

### 2.2. Resurrection Welcome (–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º)
*   **–ö–æ–¥ –≤ Mega:** `RESURRECTION_WELCOME`
*   **–õ–æ–≥–∏–∫–∞:** –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–µ—Ä–Ω—É–ª—Å—è –∏–∑ `INACTIVE` –≤ `ACTIVE_FREE`.
*   **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è. –î–µ–ª–∞–µ—Ç –±–æ—Ç–∞ –±–æ–ª–µ–µ "—á–µ–ª–æ–≤–µ—á–Ω—ã–º".
*   **–¢—Ä–∏–≥–≥–µ—Ä:** `STATE_CHANGED` (to: `ACTIVE_FREE` + condition source was inactive/started)

### 2.3. Thank You VIP
*   **–ö–æ–¥ –≤ Mega:** `THANK_YOU_PURCHASE`
*   **–õ–æ–≥–∏–∫–∞:** –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã.
*   **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –ü–æ–¥–≤–µ—Ä–∂–¥–∞–µ—Ç —Å—Ç–∞—Ç—É—Å VIP –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –≥–µ—à—Ç–∞–ª—å—Ç –ø–æ–∫—É–ø–∫–∏. –≠–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–∞—è –≤–µ–∂–ª–∏–≤–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

## 3. –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

### 3.1. Bonus Expired Notification
*   **–ö–æ–¥ –≤ Mega:** `NOTIFY_EXPIRED_BONUS`
*   **–õ–æ–≥–∏–∫–∞:** –°–æ–æ–±—â–µ–Ω–∏–µ "–í–∞—à –±–æ–Ω—É—Å —Å–≥–æ—Ä–µ–ª".
*   **–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –°–æ–∑–¥–∞–µ—Ç —á—É–≤—Å—Ç–≤–æ –ø–æ—Ç–µ—Ä–∏ (FOMO) –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –æ –±–æ—Ç–µ. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ | –¢—Ä–∏–≥–≥–µ—Ä | –ü—Ä–∏—á–∏–Ω–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è |
| :--- | :--- | :--- | :--- |
| üî¥ **High** | **WELCOME_ON_ACTIVE** | `STATE_CHANGED` | –£–¥–µ—Ä–∂–∞–Ω–∏–µ –Ω–æ–≤–∏—á–∫–æ–≤ (Activation) |
| üî¥ **High** | **PAYWALL_TRIPWIRE** | `STATE_CHANGED` | –ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π —Ç—Ä–∏–≥–≥–µ—Ä –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏, —á–µ–º TW-1 |
| üî¥ **High** | **ACHIEVEMENT_10_GENS** | `GEN_COMPLETED` | –†–∞–Ω–Ω—è—è –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è (Reward) |
| üü° **Med** | **INACTIVITY_NUDGE** | `STATE_CHANGED` | –ë–æ—Ä—å–±–∞ —Å –æ—Ç—Ç–æ–∫–æ–º (Retention) |
| üü° **Med** | **NOTIFY_EXPIRED_BONUS** | `OVERLAY_EXPIRED` | –í–æ–∑–≤—Ä–∞—Ç —á–µ—Ä–µ–∑ FOMO |

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
`seed-fsm-mega.ts` —Å–æ–¥–µ—Ä–∂–∏—Ç –±–æ–ª–µ–µ –∑—Ä–µ–ª—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –Ω–∞ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Lifecycle Marketing). –¢–µ–∫—É—â–∏–π `seed-rules.ts` –±–æ–ª—å—à–µ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ñ–∏—á–∞—Ö (Onboarding, Referral).

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ñ–∞–π–ª—ã, –ø–µ—Ä–µ–Ω–µ—Å—è –≤—Å–µ –ø—Ä–∞–≤–∏–ª–∞ —Å —Ç—Ä–∏–≥–≥–µ—Ä–æ–º `STATE_CHANGED` –∏ `ACHIEVEMENT_10_GENS` –≤ –æ—Å–Ω–æ–≤–Ω–æ–π `seed-rules.ts`, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç –æ—Å–Ω–æ–≤—É "—É–º–Ω–æ–≥–æ" –ø–æ–≤–µ–¥–µ–Ω–∏—è –±–æ—Ç–∞.
